<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Side-Scroll Platformer</title>
<style>
  body {
    margin: 0;
    overflow: hidden;
    background: linear-gradient(#87CEEB, #228B22);
  }
  canvas {
    display: block;
    background: #87CEEB;
  }
</style>
</head>
<body>
<canvas id="game"></canvas>

<script>
const canvas = document.getElementById('game');
const ctx = canvas.getContext('2d');

canvas.width = window.innerWidth;
canvas.height = window.innerHeight;

const tileSize = 40;
const worldWidth = 50;
const worldHeight = 15;

// Generate terrain (simple)
const world = [];
for(let y=0; y<worldHeight; y++){
  world[y] = [];
  for(let x=0; x<worldWidth; x++){
    if(y > worldHeight-3) world[y][x] = 'grass';
    else world[y][x] = null;
  }
}

// Player object
const player = {
  x: 100,
  y: canvas.height - tileSize*3,
  width: tileSize,
  height: tileSize*2,
  color: 'red',
  vx: 0,
  vy: 0,
  speed: 5,
  jumpPower: 15,
  onGround: false
};

// Controls
const keys = {};
document.addEventListener('keydown', (e)=>{ keys[e.key]=true; });
document.addEventListener('keyup', (e)=>{ keys[e.key]=false; });

// Game loop
function update(){
  // Player movement
  if(keys['a']) player.vx = -player.speed;
  else if(keys['d']) player.vx = player.speed;
  else player.vx = 0;

  // Jump
  if(keys['w'] && player.onGround){
    player.vy = -player.jumpPower;
    player.onGround = false;
  }

  // Gravity
  player.vy += 0.8;

  // Move player
  player.x += player.vx;
  player.y += player.vy;

  // Collision with ground
  const tileX = Math.floor(player.x / tileSize);
  const tileY = Math.floor(player.y / tileSize);

  if(tileY+2 >= worldHeight-2){
    player.y = (worldHeight-2-player.height/tileSize)*tileSize;
    player.vy = 0;
    player.onGround = true;
  }

  draw();
  requestAnimationFrame(update);
}

function draw(){
  ctx.clearRect(0,0,canvas.width,canvas.height);

  // Draw tiles
  for(let y=0;y<worldHeight;y++){
    for(let x=0;x<worldWidth;x++){
      if(world[y][x]==='grass'){
        ctx.fillStyle = '#228B22';
        ctx.fillRect(x*tileSize, y*tileSize + canvas.height - worldHeight*tileSize, tileSize, tileSize);
      }
    }
  }

  // Draw player
  ctx.fillStyle = player.color;
  ctx.fillRect(player.x, player.y, player.width, player.height);
}

update();
</script>
</body>
</html>
